---
import info from "../data/info.json";
import Layout from "../layouts/Layout.astro";
import Link from "../components/Link.astro";
import Image from "astro/components/Image.astro";
import { LuArrowUpRight } from "react-icons/lu";
---

<Layout>
  <main class="container mx-auto">
    <!-- personal information -->
    <div class="flex justify-between items-start">
      <h1 class="text-3xl font-mainHead text-main">{info.name}</h1>

      <div class="grid justify-between gap-8">
        <p>{info.role}</p>

        <ul>
          <li>{info.email}</li>
          <li>{info.phone}</li>
          <li>{info.location.city}, {info.location.country}</li>
        </ul>
      </div>
    </div>

    <!-- title -->
    <div class="flex justify-start items-start py-20">
      <h2 class="text-9xl font-subhead">Resume</h2>

      <!-- cvs button -->
      <button
        onclick="document.getElementById('overlay').classList.remove('hidden')"
        disabled={false}
        class="mt-4 text-main cursor-pointer"
      >
        [ Download CV ]
      </button>

      <!-- overlay -->
      <div
        id="overlay"
        class="fixed inset-0 hidden bg-black/60 flex items-center justify-center z-50"
      >
        <div
          class="bg-white w-80 rounded-2xl shadow-2xl p-6 space-y-4 relative"
        >
          <h2 class="text-xl font-bold border-b pb-2">Choose a CV</h2>

          <ul class="space-y-3">
            {
              info.CVs.map((file) => (
                <li>
                  <a
                    href={file.filePath}
                    target="_blank"
                    download
                    class="block px-4 py-2 bg-gray-100 hover:bg-blue-100 rounded-lg"
                  >
                    {file.roleTitle}
                  </a>
                </li>
              ))
            }
          </ul>

          <button
            onclick="document.getElementById('overlay').classList.add('hidden')"
            class="absolute top-3 right-3 text-gray-600 hover:text-red-500"
          >
            âœ–
          </button>
        </div>
      </div>
    </div>

    <!-- experiance -->
    <div class="flex gap-4 items-start pb-20">
      <span class="w-1/4">[ 01 ]</span>
      <div class="w-3/4">
        <h3 class="text-2xl font-bold">Experience</h3>
        {
          info.experiance.map((exp) => (
            <div class="flex justify-between items-center py-2 border-b border-primary-900">
              <p>
                <strong class="text-main font-mainHead">{exp.role}</strong> -{" "}
                {exp.name}
              </p>

              <div class="flex justify-start">
                <span>[ {exp.period.from} ]</span> -{" "}
                <span> {exp.period.to} </span>
              </div>
            </div>
          ))
        }
      </div>
    </div>

    <!-- education -->
    <div class="flex gap-4 items-start pb-20">
      <span class="w-1/4">[ 02 ]</span>
      <div class="w-3/4">
        <h3 class="text-2xl font-bold">Education</h3>
        <div
          class="flex justify-between items-start py-2 border-b border-primary-900"
        >
          <div>
            <p>
              <strong class="text-main font-mainHead"
                >{info.education.uni}</strong
              > -{" "}
              {info.education.grade}
            </p>
            <p class="text-primary-600">{info.education.field}</p>
          </div>

          <div class="flex justify-start">
            <span> {info.education.date} </span>
          </div>
        </div>
      </div>
    </div>

    <!-- img -->
    <div class="flex items-start justify-start gap-4">
      <div>
        <Image
          src="/public/images/Hero.jpg"
          width="300"
          height="300"
          loading={"lazy"}
          alt="ahmed omran"
          class="grayscale hover:grayscale-0 transition-all duration-500"
        />

        <div class="flex gap-2 mt-4 justify-between item-center">
          <span>
            <Link href={info.social[1].path} target="_blank">
              {info.social[1].name}
            </Link>
          </span>
          <span>
            <Link href={info.social[2].path} target="_blank">
              {info.social[2].name}
            </Link>
          </span>
        </div>
      </div>

      <div class="flex-grow">
        <!-- skills -->
        <div class="flex gap-8 items-start pb-20">
          <span class="w-1/4">[ 03 ]</span>
          <div class="w-2/4 flex-grow flex-col">
            <h3 class="text-2xl font-bold mb-4">Skills</h3>
            <div class="flex gap-8 justify-between">
              <ul>
                {info.skills.front.map((front) => <li>{front}</li>)}
              </ul>
              <ul>
                {info.skills.back.map((back) => <li>{back}</li>)}
              </ul>
            </div>
          </div>
          <div class="w-1/4 flex-grow flex-col">
            <h3 class="text-2xl font-bold mb-4">Language</h3>
            <div class="flex gap-8 justify-between">
              <ul>
                {
                  info.skills.languages.map((language) => (
                    <li>
                      {language.name} - {language.level}
                    </li>
                  ))
                }
              </ul>
            </div>
          </div>
        </div>
        <!-- projects -->
        <div class="flex gap-4 items-start pb-20">
          <span class="w-1/4">[ 04 ]</span>
          <div class="w-3/4">
            <h3 class="text-2xl font-bold mb-8">Projects</h3>
            {
              info.projects.map((project) => (
                <div class="flex justify-between items-start py-2 border-b border-primary-900 gap-8">
                  <div>
                    <h5 class="text-main">{project.title}</h5>
                    {/* <p class="text-xs">{project.bio}</p> */}
                  </div>

                  <div class="flex w-1/4 justify-end">
                    <span>[ {project.date} ]</span>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </div>

    <div
      class="py-20 flex flex-col justify-center items-center relative space-y-8"
    >
      <div class="flex">
        <h1 class="text-9xl font-mainHead">Let's Talk</h1>
        <sup><LuArrowUpRight className="text-6xl text-main" /></sup>
      </div>
      <div
        class="w-1/2 flex flex-col justify-start gap-4 items-end text-sm font-subhead capitalize overflow-y-hidden space-y-8"
      >
        <p id="title" class="w-1/2">
          I'm so social, so Whether you have a project in mind or just want to
          say hello, I'd love to hear from you. You can also use the [Contact]
          page.
        </p>
        <div class="flex justify-end items-center gap-4">
          <span class="redirect-btns overflow-y-hidden">
            <Link href="/contact">[ Contact ]</Link>
          </span>
        </div>
      </div>
    </div>
  </main>
</Layout>
