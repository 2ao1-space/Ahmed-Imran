import{g as a,S as i}from"./SplitText.Bve8ljHE.js";import{S as d}from"./ScrollTrigger.C4gmGO9R.js";a.registerPlugin(d,i);const u=()=>window.gsap?Promise.resolve(window.gsap):new Promise((o,n)=>{const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js",t.onload=()=>o(window.gsap),t.onerror=n,t.async=!0,document.head.appendChild(t)}),c=async()=>{try{const o=await u();let n={value:0};const t=document.querySelector(".loading-num"),r=document.querySelector(".loading-screen"),e=document.querySelector("#page-content");if(!t||!r||!e)return;document.body.classList.add("overflow-hidden"),o.to(n,{value:100,duration:1,ease:"power2.out",onUpdate:()=>{t&&(t.textContent=Math.floor(n.value)+"%")},onComplete:()=>{o.timeline().to(r,{y:"-100%",duration:.6,ease:"power2.inOut",onComplete:()=>{r.remove(),document.body.classList.remove("overflow-hidden"),m()}}).to(e,{opacity:1,duration:.2,ease:"none"},"-=0.3")}})}catch(o){console.error("Failed to load GSAP:",o),g()}},g=()=>{const o=document.querySelector(".loading-screen"),n=document.querySelector("#page-content");o&&o.remove(),n&&(n.style.opacity="1"),document.body.classList.remove("overflow-hidden")},m=()=>{document.querySelectorAll("h1, h2, h3").forEach(e=>{const s=new i(e,{type:"lines,words,chars",linesClass:"split-line"});a.from(s.chars,{duration:.8,y:100,opacity:0,stagger:.02,ease:"power3.out",scrollTrigger:{trigger:e,start:"top bottom-=100",toggleActions:"play none none reverse"}})}),document.querySelectorAll("section").forEach(e=>{a.from(e,{duration:1,y:100,opacity:0,ease:"power3.out",scrollTrigger:{trigger:e,start:"top bottom-=100",toggleActions:"play none none reverse"}})}),document.querySelectorAll("img").forEach(e=>{a.from(e,{duration:1,scale:1.2,opacity:0,ease:"power3.out",scrollTrigger:{trigger:e,start:"top bottom-=100",toggleActions:"play none none reverse"}})});const r=document.querySelector("header");if(r){let e=window.scrollY;const s=a.timeline({paused:!0});s.to(r,{yPercent:-100,duration:.3,ease:"power2.inOut"}),window.addEventListener("scroll",()=>{const l=window.scrollY;l>e&&l>100?s.play():s.reverse(),e=l})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();
